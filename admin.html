<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin - Panda Studios</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #eef;
    }
    input, button, select, textarea {
      margin: 5px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      width: 100%;
      max-width: 400px;
    }
    .hidden {
      display: none;
    }
    .block {
      background: white;
      padding: 20px;
      margin: 20px auto;
      max-width: 600px;
      border-radius: 15px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
    }
  </style>
</head>
<body>

  <div id="loginBlock">
    <h2>Admin Login</h2>
    <input type="password" id="adminPassword" placeholder="Password">
    <button onclick="checkPassword()">Login</button>
  </div>

  <div id="adminPanel" class="hidden">
    <div class="block">
      <h2>Gradients</h2>
      <input type="text" id="newGradient" placeholder="New Gradient CSS">
      <button onclick="addGradient()">Add Gradient</button>
      <div id="gradientList"></div>
    </div>

    <div class="block">
      <h2>Categories</h2>
      <input type="text" id="catName" placeholder="Category Name">
      <textarea id="catDesc" placeholder="Category Description"></textarea>
      <button onclick="addCategory()">Add Category</button>
      <div id="catList"></div>
    </div>

    <div class="block">
      <h2>Projects</h2>
      <input type="text" id="projName" placeholder="Project Name">
      <input type="text" id="projLink" placeholder="Project Link">
      <select id="projCategory"></select>
      <button onclick="addProject()">Add Project</button>
      <div id="projList"></div>
    </div>

    <div class="block" style="text-align:center;">
      <button onclick="saveAll()">Save All</button>
    </div>
  </div>

<script>
  const correctPassword = "admin123"; // Set your admin password here

  let data = {
    gradient: "linear-gradient(135deg, #a64ac9, #ff69b4)",
    gradients: [
      "linear-gradient(135deg, #a64ac9, #ff69b4)"
    ],
    categories: [],
    projects: []
  };

  function checkPassword() {
    const pw = document.getElementById('adminPassword').value;
    if (pw === correctPassword) {
      document.getElementById('loginBlock').classList.add('hidden');
      document.getElementById('adminPanel').classList.remove('hidden');
      refreshAdmin();
    } else {
      alert("Wrong password!");
    }
  }

  function refreshAdmin() {
    // Gradients
    const gradList = document.getElementById('gradientList');
    gradList.innerHTML = '';
    data.gradients.forEach((g, i) => {
      const div = document.createElement('div');
      div.innerHTML = `${g} <button onclick="removeGradient(${i})">Remove</button>`;
      gradList.appendChild(div);
    });

    // Categories
    const catList = document.getElementById('catList');
    catList.innerHTML = '';
    const projCat = document.getElementById('projCategory');
    projCat.innerHTML = '';

    data.categories.forEach((cat, i) => {
      const div = document.createElement('div');
      div.innerHTML = `<b>${cat.name}</b>: ${cat.description} <button onclick="removeCategory(${i})">Remove</button>`;
      catList.appendChild(div);

      const opt = document.createElement('option');
      opt.value = cat.name;
      opt.textContent = cat.name;
      projCat.appendChild(opt);
    });

    // Projects
    const projList = document.getElementById('projList');
    projList.innerHTML = '';
    data.projects.forEach((proj, i) => {
      const div = document.createElement('div');
      div.innerHTML = `${proj.name} (${proj.category}) <button onclick="removeProject(${i})">Remove</button>`;
      projList.appendChild(div);
    });
  }

  function addGradient() {
    const grad = document.getElementById('newGradient').value;
    if (grad) {
      data.gradients.push(grad);
      data.gradient = grad; // auto set as active
      document.getElementById('newGradient').value = '';
      refreshAdmin();
    }
  }

  function removeGradient(index) {
    data.gradients.splice(index, 1);
    refreshAdmin();
  }

  function addCategory() {
    const name = document.getElementById('catName').value;
    const desc = document.getElementById('catDesc').value;
    if (name && desc) {
      data.categories.push({ name, description: desc });
      document.getElementById('catName').value = '';
      document.getElementById('catDesc').value = '';
      refreshAdmin();
    }
  }

  function removeCategory(index) {
    data.categories.splice(index, 1);
    refreshAdmin();
  }

  function addProject() {
    const name = document.getElementById('projName').value;
    const link = document.getElementById('projLink').value;
    const cat = document.getElementById('projCategory').value;
    if (name && link && cat) {
      data.projects.push({ name, link, category: cat });
      document.getElementById('projName').value = '';
      document.getElementById('projLink').value = '';
      refreshAdmin();
    }
  }

  function removeProject(index) {
    data.projects.splice(index, 1);
    refreshAdmin();
  }

  function saveAll() {
    const json = JSON.stringify(data, null, 2);
    const blob = new Blob([json], { type: "application/json" });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = "data.json"; // Save as data.json
    a.click();
    URL.revokeObjectURL(url);
  }
</script>

</body>
</html>
